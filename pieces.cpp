#include <pieces.h>


int Pieces::getPostionType(int piece, int rotation, int pos_X, int pos_Y)
{
    return storedPieces[piece][rotation][pos_X][pos_Y];
}
 
 
int Pieces::getInitialX(int piece, int rotation)
{
    return initialPiecePosition[piece][rotation][0];
}
 
 
int Pieces::getInitialY(int piece, int rotation)
{
    return initialPiecePosition[piece][rotation][1];
}


/*
    Piece information:
        - There are 7 kinds of pieces
        - Each piece can be in 4 orientations, rotated around one pivot point (denoted with a 2 in center of grid)
        - Each piece (in any given configuration) can be stored in a 5x5 section
*/

int storedPieces [PIECE_TYPES][NUM_ROTATIONS][NUM_X_BLOCKS][NUM_Y_BLOCKS]
{
    // Square Piece
    {
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        }
    },

    // Line Piece
    {
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,2,1,1},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,0,2,0,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {1,1,2,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,0,2,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        }
    },

    // "L" Piece
    {
        {
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,0,2,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,2,1,1},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,2,0,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {1,1,2,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },

    // "J" Piece
    {
        {
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,1,2,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,0,2,1,1},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,2,1,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {1,1,2,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        }
    },

    // "Z" Piece
    {
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,2,0,0},
            {0,0,1,1,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,1,2,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,0,2,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,1,0},
            {0,0,2,1,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        }
    },

    // "S" Piece
    {
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,2,1,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,1,0,0,0},
            {0,1,2,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,1,0},
            {0,1,2,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,0,2,1,0},
            {0,0,0,1,0},
            {0,0,0,0,0},
        }
    },

    // "T" Piece
    {
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,1,2,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,0,2,1,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,1,2,1,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {
            {0,0,0,0,0},
            {0,0,1,0,0},
            {0,1,2,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        }
    }

};

//
// The initial position for each piece needs to be centered on the playing board with no empty lines between the
// top of the piece and the top of the playing board.
//
int initialPiecePosition [PIECE_TYPES][NUM_ROTATIONS][POSITION]
{
    // Square Piece
    {   
        {-2, -3}, 
        {-2, -3},
        {-2, -3},
        {-2, -3}
    },
    
    // Line Piece
    {
        {-2, -2},
        {-2, -3},
        {-2, -2},
        {-2, -3}
    },
    
    // "L" Piece
    {
        {-2, -3},
        {-2, -3},
        {-2, -3},
        {-2, -2}
    },
    
    // "J" Piece
    {
        {-2, -3},
        {-2, -2},
        {-2, -3},
        {-2, -3}
    },
    
    // "Z" Piece
    {
        {-2, -3},
        {-2, -3},
        {-2, -3},
        {-2, -2}
    },

    // "S" Piece
    {
        {-2, -3},
        {-2, -3},
        {-2, -3},
        {-2, -2}
    },

    // "T" Piece
    {
        {-2, -3},
        {-2, -3},
        {-2, -3},
        {-2, -2}
    },
};

